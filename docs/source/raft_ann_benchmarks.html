<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><style>body {
  max-width: 980px;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 45px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable,
.markdown-body .highlighttable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr,
.markdown-body .highlighttable {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite,
.markdown-body .highlighttable pre,
.markdown-body .highlighttable div.highlight {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td,
.markdown-body .highlighttable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headerlink {
  font: normal 400 16px fontawesome-mini;
  vertical-align: middle;
  margin-left: -16px;
  float: left;
  display: inline-block;
  text-decoration: none;
  opacity: 0;
  color: #333;
}

.markdown-body .headerlink:focus {
  outline: none;
}

.markdown-body h1 .headerlink {
  margin-top: 0.8rem;
}

.markdown-body h2 .headerlink,
.markdown-body h3 .headerlink {
  margin-top: 0.6rem;
}

.markdown-body h4 .headerlink {
  margin-top: 0.2rem;
}

.markdown-body h5 .headerlink,
.markdown-body h6 .headerlink {
  margin-top: 0;
}

.markdown-body .headerlink:hover,
.markdown-body h1:hover .headerlink,
.markdown-body h2:hover .headerlink,
.markdown-body h3:hover .headerlink,
.markdown-body h4:hover .headerlink,
.markdown-body h5:hover .headerlink,
.markdown-body h6:hover .headerlink {
  opacity: 1;
  text-decoration: none;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  border-radius: 3px;
}

.markdown-body code:not(.highlight):not(.codehilite), .markdown-body samp {
  background-color: rgba(0,0,0,0.04);
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite,
.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
}

.markdown-body .codehilite,
.markdown-body .highlight,
.markdown-body pre {
  border-radius: 3px;
}

.markdown-body :not(.highlight) > pre {
  background-color: #f7f7f7;
}

.markdown-body .codehilite pre,
.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* MultiMarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px fontawesome-mini;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\e157';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

.markdown-body diagram-div, .markdown-body div.uml-sequence-diagram, .markdown-body, div.uml-flowchart {
  overflow: auto;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><style>/*GitHub*/
.highlight {background-color:#f7f7f7;color:#333333;}
.highlight .hll {background-color:#ffffcc;}
.highlight .c{color:#999988;font-style:italic}
.highlight .err{color:#a61717;background-color:#e3d2d2}
.highlight .k{font-weight:bold}
.highlight .o{font-weight:bold}
.highlight .cm{color:#999988;font-style:italic}
.highlight .cp{color:#999999;font-weight:bold}
.highlight .c1{color:#999988;font-style:italic}
.highlight .cs{color:#999999;font-weight:bold;font-style:italic}
.highlight .gd{color:#000000;background-color:#ffdddd}
.highlight .ge{font-style:italic}
.highlight .gr{color:#aa0000}
.highlight .gh{color:#999999}
.highlight .gi{color:#000000;background-color:#ddffdd}
.highlight .go{color:#888888}
.highlight .gp{color:#555555}
.highlight .gs{font-weight:bold}
.highlight .gu{color:#800080;font-weight:bold}
.highlight .gt{color:#aa0000}
.highlight .kc{font-weight:bold}
.highlight .kd{font-weight:bold}
.highlight .kn{font-weight:bold}
.highlight .kp{font-weight:bold}
.highlight .kr{font-weight:bold}
.highlight .kt{color:#445588;font-weight:bold}
.highlight .m{color:#009999}
.highlight .s{color:#dd1144}
.highlight .n{color:#333333}
.highlight .na{color:teal}
.highlight .nb{color:#0086b3}
.highlight .nc{color:#445588;font-weight:bold}
.highlight .no{color:teal}
.highlight .ni{color:purple}
.highlight .ne{color:#990000;font-weight:bold}
.highlight .nf{color:#990000;font-weight:bold}
.highlight .nn{color:#555555}
.highlight .nt{color:navy}
.highlight .nv{color:teal}
.highlight .ow{font-weight:bold}
.highlight .w{color:#bbbbbb}
.highlight .mf{color:#009999}
.highlight .mh{color:#009999}
.highlight .mi{color:#009999}
.highlight .mo{color:#009999}
.highlight .sb{color:#dd1144}
.highlight .sc{color:#dd1144}
.highlight .sd{color:#dd1144}
.highlight .s2{color:#dd1144}
.highlight .se{color:#dd1144}
.highlight .sh{color:#dd1144}
.highlight .si{color:#dd1144}
.highlight .sx{color:#dd1144}
.highlight .sr{color:#009926}
.highlight .s1{color:#dd1144}
.highlight .ss{color:#990073}
.highlight .bp{color:#999999}
.highlight .vc{color:teal}
.highlight .vg{color:teal}
.highlight .vi{color:teal}
.highlight .il{color:#009999}
.highlight .gc{color:#999;background-color:#EAF2F5}
</style><title>raft_ann_benchmarks</title></head><body><article class="markdown-body"><h1 id="raft-ann-benchmarks">RAFT ANN Benchmarks<a class="headerlink" href="#raft-ann-benchmarks" title="Permanent link"></a></h1>
<p>This project provides a benchmark program for various ANN search implementations. It&rsquo;s especially suitable for comparing GPU implementations as well as comparing GPU against CPU.</p>
<h2 id="installing-the-benchmarks">Installing the benchmarks<a class="headerlink" href="#installing-the-benchmarks" title="Permanent link"></a></h2>
<p>There are two main ways pre-compiled benchmarks are distributed: Docker and conda. The following sub sections demonstrate how to install and run each path.</p>
<h3 id="docker">Docker<a class="headerlink" href="#docker" title="Permanent link"></a></h3>
<p>We provide images for GPU enabled systems, as well as systems without a GPU. The following images are available:</p>
<ul>
<li><code>raft-ann-bench</code>: Contains GPU and CPU benchmarks, can run all algorithms supported. Will download million-scale datasets as required. Best suited for users that prefer a smaller container size for GPU based systems. Requires the NVIDIA Container Toolkit to run GPU algorithms, can run CPU algorithms without it.</li>
<li><code>raft-ann-bench-datasets</code>: Contains the GPU and CPU benchmarks with million-scale datasets already included in the container. Best suited for users that want to run multiple million scale datasets already included in the image.</li>
<li><code>raft-ann-bench-cpu</code>: Contains only CPU benchmarks with minimal size. Best suited for users that want the smallest containers to reproduce benchmarks on systems without a GPU.</li>
<li><code>raft-ann-bench-cpu-datasets</code>: Containes only CPU benchmarks with million-scale datasets already included.</li>
</ul>
<p>The containers can be used in two manners:</p>
<ul>
<li>Quick benchmark with single <code>docker run</code>: The docker containers already include helper scripts to be able to invoke most of the functionality of the benchmarks from docker run for a simple and easy way to run benchmarks. To use the containers in this manner, use the following commands:</li>
</ul>
<p>For GPU systems, where $DATA_FOLDER is a local folder where you want datasets stored in $DATA_FOLDER/datasets and results in $DATA_FOLDER/results:</p>
<div class="highlight"><pre>docker run --gpus all --rm -it <span class="se">\</span>
    -v <span class="nv">$DATA_FOLDER</span>:/home/rapids/benchmarks  <span class="se">\</span>
    rapidsai/raft-ann-bench:23.10a-cuda11.8-py3.10 <span class="se">\</span>
     <span class="s2">&quot;--dataset deep-image-96-angular&quot;</span> <span class="se">\</span>
     <span class="s2">&quot;--normalize&quot;</span> <span class="se">\</span>
     <span class="s2">&quot;--algorithms raft_cagra&quot;</span> <span class="se">\</span>
     <span class="s2">&quot;&quot;</span>
</pre></div>

<p>Where:</p>
<div class="highlight"><pre>docker run --gpus all --rm -it <span class="se">\</span>
    -v <span class="nv">$DATA_FOLDER</span>:/home/rapids/benchmarks  <span class="se">\ </span><span class="c1"># &lt;- local folder to store datasets and results</span>
    rapidsai/raft-ann-bench:23.10a-cuda11.8-py3.10 <span class="se">\ </span><span class="c1"># &lt;- image to use, either `raft-ann-bench` or `raft-ann-bench-datasets`</span>
     <span class="s2">&quot;--dataset deep-image-96-angular&quot;</span> <span class="se">\ </span><span class="c1"># &lt;- dataset name</span>
     <span class="s2">&quot;--normalize&quot;</span> <span class="se">\ </span><span class="c1"># &lt;- whether to normalize the dataset</span>
     <span class="s2">&quot;--algorithms raft_cagra&quot;</span> <span class="se">\ </span><span class="c1"># &lt;- what algorithm(s) to use as a ; separated list, as well as any other argument to pass to `raft_ann_benchmarks.run`</span>
     <span class="s2">&quot;&quot;</span> <span class="c1"># optional argumetns to pass to `raft_ann_benchmarks.plot`</span>
</pre></div>

<p>For CPU systems the same interface applies, except for not needing the gpus argument and using the cpu imnges:
<div class="highlight"><pre>docker run  all --rm -it <span class="se">\</span>
    -v <span class="nv">$DATA_FOLDER</span>:/home/rapids/benchmarks  <span class="se">\</span>
    rapidsai/raft-ann-bench-cpu:23.10a-py3.10 <span class="se">\</span>
     <span class="s2">&quot;--dataset deep-image-96-angular&quot;</span> <span class="se">\</span>
     <span class="s2">&quot;--normalize&quot;</span> <span class="se">\</span>
     <span class="s2">&quot;--algorithms raft_cagra&quot;</span> <span class="se">\</span>
     <span class="s2">&quot;&quot;</span>
</pre></div></p>
<ul>
<li>Using the preinstalled <code>raft_ann_benchmarks</code> python package: The docker containers are built using the conda packages described in the following section, so they can be used directly as if they were installed manually following the instructions in the next section. To use the python scripts directly, an easy way is to use the following command:</li>
</ul>
<div class="highlight"><pre>docker run --gpus all --rm -it <span class="se">\</span>
    -v <span class="nv">$DATA_FOLDER</span>:/home/rapids/benchmarks  <span class="se">\</span>
    rapidsai/raft-ann-bench:23.10a-cuda11.8-py3.10 <span class="se">\</span>
    --entrypoint /bin/bash
</pre></div>

<h3 id="conda">Conda<a class="headerlink" href="#conda" title="Permanent link"></a></h3>
<p>If containers are not an option or not preferred, the easiest way to install the ANN benchmarks is through conda. We provide packages for GPU enabled systems, as well for systems without a GPU. We suggest using mamba as it generally leads to a faster install time:</p>
<div class="highlight"><pre>mamba create --name raft_ann_benchmarks
conda activate raft_ann_benchmarks

<span class="c1"># to install GPU package:</span>
mamba install -c rapidsai -c conda-forge -c nvidia raft-ann-bench cuda-version<span class="o">=</span>11.8*

<span class="c1"># to install CPU package for usage in CPU-only systems:</span>
mamba install -c rapidsai -c conda-forge  raft-ann-bench-cpu
</pre></div>

<p>The channel <code>rapidsai</code> can easily be substituted <code>rapidsai-nightly</code> if nightly benchmarks are desired. The CPU package currently allows to run the HNSW benchmarks.</p>
<p>Please see the <a href="/Users/danteg/RAPIDS/raft2/docs/source/ann_benchmarks_build.md">build instructions</a> to build the benchmarks from source.</p>
<h2 id="running-the-benchmarks">Running the benchmarks<a class="headerlink" href="#running-the-benchmarks" title="Permanent link"></a></h2>
<h3 id="python-pacakge-usage">Python Pacakge Usage<a class="headerlink" href="#python-pacakge-usage" title="Permanent link"></a></h3>
<p>There are 4 general steps to running the benchmarks and visualizing the results:
1. Prepare Dataset
2. Build Index and Search Index
3. Data Export
4. Plot Results</p>
<p>We provide a collection of lightweight Python scripts that are wrappers over
lower level scripts and executables to run our benchmarks. Either Python scripts or
<a href="/Users/danteg/RAPIDS/raft2/docs/source/ann_benchmarks_low_level.md">low-level scripts and executables</a> are valid methods to run benchmarks,
however plots are only provided through our Python scripts.</p>
<h3 id="end-to-end-example-million-scale">End-to-end example: Million-scale<a class="headerlink" href="#end-to-end-example-million-scale" title="Permanent link"></a></h3>
<p>The steps below demonstrate how to download, install, and run benchmarks on a subset of 10M vectors from the Yandex Deep-1B dataset By default the datasets will be stored and used from the folder indicated by the <code>RAPIDS_DATASET_ROOT_DIR</code> environment variable if defined, otherwise a datasets sub-folder from where the script is being called:</p>
<div class="highlight"><pre><span class="c1"># (1) prepare dataset.</span>
python -m raft-ann-bench.get_dataset --dataset deep-image-96-angular --normalize

<span class="c1"># (2) build and search index</span>
python -m raft-ann-bench.run --dataset deep-image-96-inner

<span class="c1"># (3) export data</span>
python -m raft-ann-bench.data_export --dataset deep-image-96-inner

<span class="c1"># (4) plot results</span>
python -m raft-ann-bench.plot --dataset deep-image-96-inner
</pre></div>

<p>Configuration files already exist for the following list of the million-scale datasets. Please refer to <a href="https://github.com/erikbern/ann-benchmarks/#data-sets">ann-benchmarks datasets</a> for more information, including actual train and sizes. These all work out-of-the-box with the <code>--dataset</code> argument. Other million-scale datasets from <code>ann-benchmarks.com</code> will work, but will require a json configuration file to be created in <code>$CONDA_PREFIX/lib/python3.xx/site-packages/raft-ann-bench/run/conf</code>, or you can specify the <code>--configuration</code> option to use a specific file.
- <code>deep-image-96-angular</code>
- <code>fashion-mnist-784-euclidean</code>
- <code>glove-50-angular</code>
- <code>glove-100-angular</code>
- <code>lastfm-65-angular</code>
- <code>mnist-784-euclidean</code>
- <code>nytimes-256-angular</code>
- <code>sift-128-euclidean</code></p>
<h3 id="end-to-end-example-billion-scale">End-to-end example: Billion-scale<a class="headerlink" href="#end-to-end-example-billion-scale" title="Permanent link"></a></h3>
<p><code>raft-ann-bench.get_dataset</code> cannot be used to download the <a href="/Users/danteg/RAPIDS/raft2/docs/source/ann_benchmarks_dataset.md#billion-scale">billion-scale datasets</a>
because they are so large. You should instead use our billion-scale datasets guide to download and prepare them.
All other python  mentioned below work as intended once the
billion-scale dataset has been downloaded.
To download Billion-scale datasets, visit <a href="http://big-ann-benchmarks.com/neurips21.html">big-ann-benchmarks</a></p>
<p>The steps below demonstrate how to download, install, and run benchmarks on a subset of 100M vectors from the Yandex Deep-1B dataset. Please note that datasets of this scale are recommended for GPUs with larger amounts of memory, such as the A100 or H100. 
<div class="highlight"><pre>mkdir -p datasets/deep-1B
<span class="c1"># (1) prepare dataset</span>
<span class="c1"># download manually &quot;Ground Truth&quot; file of &quot;Yandex DEEP&quot;</span>
<span class="c1"># suppose the file name is deep_new_groundtruth.public.10K.bin</span>
python -m raft-ann-bench.split_groundtruth --groundtruth datasets/deep-1B/deep_new_groundtruth.public.10K.bin
<span class="c1"># two files &#39;groundtruth.neighbors.ibin&#39; and &#39;groundtruth.distances.fbin&#39; should be produced</span>

<span class="c1"># (2) build and search index</span>
python -m raft-ann-bench.run --dataset deep-1B

<span class="c1"># (3) export data</span>
python -m raft-ann-bench.data_export --dataset deep-1B

<span class="c1"># (4) plot results</span>
python -m raft-ann-bench.plot --dataset deep-1B
</pre></div></p>
<p>The usage of <code>python -m raft-ann-bench.split_groundtruth</code> is:
<div class="highlight"><pre>usage: split_groundtruth.py <span class="o">[</span>-h<span class="o">]</span> --groundtruth GROUNDTRUTH

options:
  -h, --help            show this <span class="nb">help </span>message and <span class="nb">exit</span>
  --groundtruth GROUNDTRUTH
                        Path to billion-scale dataset groundtruth file <span class="o">(</span>default: None<span class="o">)</span>
</pre></div></p>
<h5 id="step-1-prepare-dataset">Step 1: Prepare Dataset<a id='prep-dataset'></a><a class="headerlink" href="#step-1-prepare-dataset" title="Permanent link"></a></h5>
<p>The script <code>raft-ann-bench.get_dataset</code> will download and unpack the dataset in directory
that the user provides. As of now, only million-scale datasets are supported by this
script. For more information on <a href="/Users/danteg/RAPIDS/raft2/docs/source/ann_benchmarks_dataset.md">datasets and formats</a>.</p>
<p>The usage of this script is:
<div class="highlight"><pre>usage: get_dataset.py <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--name NAME<span class="o">]</span> <span class="o">[</span>--dataset-path DATASET_PATH<span class="o">]</span> <span class="o">[</span>--normalize<span class="o">]</span>

options:
  -h, --help            show this <span class="nb">help </span>message and <span class="nb">exit</span>
  --dataset DATASET     dataset to download <span class="o">(</span>default: glove-100-angular<span class="o">)</span>
  --dataset-path DATASET_PATH
                        path to download dataset <span class="o">(</span>default: <span class="si">${</span><span class="nv">RAPIDS_DATASET_ROOT_DIR</span><span class="si">}</span><span class="o">)</span>
  --normalize           normalize cosine distance to inner product <span class="o">(</span>default: False<span class="o">)</span>
</pre></div></p>
<p>When option <code>normalize</code> is provided to the script, any dataset that has cosine distances
will be normalized to inner product. So, for example, the dataset <code>glove-100-angular</code> 
will be written at location <code>datasets/glove-100-inner/</code>.</p>
<h4 id="step-2-build-and-search-index">Step 2: Build and Search Index<a class="headerlink" href="#step-2-build-and-search-index" title="Permanent link"></a></h4>
<p>The script <code>raft-ann-bench.run</code> will build and search indices for a given dataset and its
specified configuration.
To confirgure which algorithms are available, we use <code>algos.yaml</code>.
To configure building/searching indices for a dataset, look at <a href="#json-index-config">index configuration</a>.
An entry in <code>algos.yaml</code> looks like:
<div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">raft_ivf_pq</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">executable</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">RAFT_IVF_PQ_ANN_BENCH</span>
  <span class="l l-Scalar l-Scalar-Plain">requires_gpu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
<code>executable</code> : specifies the name of the binary that will build/search the index. It is assumed to be
available in <code>raft/cpp/build/</code>.
<code>requires_gpu</code> : denotes whether an algorithm requires GPU to run.</p>
<p>The usage of the script <code>raft-ann-bench.run</code> is:
<div class="highlight"><pre>usage: run.py <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-k COUNT<span class="o">]</span> <span class="o">[</span>-bs BATCH_SIZE<span class="o">]</span> <span class="o">[</span>--configuration CONFIGURATION<span class="o">]</span> <span class="o">[</span>--dataset DATASET<span class="o">]</span> <span class="o">[</span>--dataset-path DATASET_PATH<span class="o">]</span> <span class="o">[</span>--build<span class="o">]</span> <span class="o">[</span>--search<span class="o">]</span> <span class="o">[</span>--algorithms ALGORITHMS<span class="o">]</span> <span class="o">[</span>--indices INDICES<span class="o">]</span>
              <span class="o">[</span>-f<span class="o">]</span>

options:
  -h, --help            show this <span class="nb">help </span>message and <span class="nb">exit</span>
  -k COUNT, --count COUNT
                        the number of nearest neighbors to search <span class="k">for</span> <span class="o">(</span>default: 10<span class="o">)</span>
  -bs BATCH_SIZE, --batch-size BATCH_SIZE
                        number of query vectors to use in each query trial <span class="o">(</span>default: 10000<span class="o">)</span>
  --configuration CONFIGURATION
                        path to configuration file <span class="k">for</span> a dataset <span class="o">(</span>default: None<span class="o">)</span>
  --dataset DATASET     dataset whose configuration file will be used <span class="o">(</span>default: glove-100-inner<span class="o">)</span>
  --dataset-path DATASET_PATH
                        path to dataset folder <span class="o">(</span>default: <span class="si">${</span><span class="nv">RAPIDS_DATASET_ROOT_DIR</span><span class="si">}</span><span class="o">)</span>
  --build
  --search
  --algorithms ALGORITHMS
                        run only comma separated list of named algorithms <span class="o">(</span>default: None<span class="o">)</span>
  --indices INDICES     run only comma separated list of named indices. parameter <span class="sb">`</span>algorithms<span class="sb">`</span> is ignored <span class="o">(</span>default: None<span class="o">)</span>
  -f, --force           re-run algorithms even <span class="k">if</span> their results already exist <span class="o">(</span>default: False<span class="o">)</span>
</pre></div></p>
<p><code>configuration</code> and <code>dataset</code> : <code>configuration</code> is a path to a configuration file for a given dataset.
The configuration file should be name as <code>&lt;dataset&gt;.json</code>. It is optional if the name of the dataset is
provided with the <code>dataset</code> argument, in which case
a configuration file will be searched for as <code>python/raft-ann-bench/src/raft-ann-bench/run/conf/&lt;dataset&gt;.json</code>.
For every algorithm run by this script, it outputs an index build statistics JSON file in <code>&lt;dataset-path/&lt;dataset&gt;/result/build/&lt;algo-k{k}-batch_size{batch_size}.json&gt;</code>
and an index search statistics JSON file in <code>&lt;dataset-path/&lt;dataset&gt;/result/search/&lt;algo-k{k}-batch_size{batch_size}.json&gt;</code>.</p>
<p><code>dataset-path</code> : 
1. data is read from <code>&lt;dataset-path&gt;/&lt;dataset&gt;</code>
2. indices are built in <code>&lt;dataset-path&gt;/&lt;dataset&gt;/index</code>
3. build/search results are stored in <code>&lt;dataset-path&gt;/&lt;dataset&gt;/result</code></p>
<p><code>build</code> and <code>search</code> : if both parameters are not supplied to the script then
it is assumed both are <code>True</code>.</p>
<p><code>indices</code> and <code>algorithms</code> : these parameters ensure that the algorithm specified for an index 
is available in <code>algos.yaml</code> and not disabled, as well as having an associated executable.</p>
<h4 id="step-3-data-export">Step 3: Data Export<a class="headerlink" href="#step-3-data-export" title="Permanent link"></a></h4>
<p>The script <code>raft-ann-bench.data_export</code> will convert the intermediate JSON outputs produced by <code>raft-ann-bench.run</code> to more
easily readable CSV files, which are needed to build charts made by <code>raft-ann-bench.plot</code>.</p>
<p><div class="highlight"><pre>usage: data_export.py <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--dataset DATASET<span class="o">]</span> <span class="o">[</span>--dataset-path DATASET_PATH<span class="o">]</span>

options:
  -h, --help            show this <span class="nb">help </span>message and <span class="nb">exit</span>
  --dataset DATASET     dataset to download <span class="o">(</span>default: glove-100-inner<span class="o">)</span>
  --dataset-path DATASET_PATH
                        path to dataset folder <span class="o">(</span>default: <span class="si">${</span><span class="nv">RAPIDS_DATASET_ROOT_DIR</span><span class="si">}</span><span class="o">)</span>
</pre></div>
Build statistics CSV file is stored in <code>&lt;dataset-path/&lt;dataset&gt;/result/build/&lt;algo-k{k}-batch_size{batch_size}.csv&gt;</code>
and index search statistics CSV file in <code>&lt;dataset-path/&lt;dataset&gt;/result/search/&lt;algo-k{k}-batch_size{batch_size}.csv&gt;</code>.</p>
<h4 id="step-4-plot-results">Step 4: Plot Results<a class="headerlink" href="#step-4-plot-results" title="Permanent link"></a></h4>
<p>The script <code>raft-ann-bench.plot</code> will plot results for all algorithms found in index search statistics
CSV file in <code>&lt;dataset-path/&lt;dataset&gt;/result/search/&lt;-k{k}-batch_size{batch_size}&gt;.csv</code>.</p>
<p>The usage of this script is:
<div class="highlight"><pre>usage: plot.py <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--dataset DATASET<span class="o">]</span> <span class="o">[</span>--dataset-path DATASET_PATH<span class="o">]</span> <span class="o">[</span>--output-filepath OUTPUT_FILEPATH<span class="o">]</span> <span class="o">[</span>--algorithms ALGORITHMS<span class="o">]</span> <span class="o">[</span>-k COUNT<span class="o">]</span> <span class="o">[</span>-bs BATCH_SIZE<span class="o">]</span> <span class="o">[</span>--build<span class="o">]</span> <span class="o">[</span>--search<span class="o">]</span>
               <span class="o">[</span>--x-scale X_SCALE<span class="o">]</span> <span class="o">[</span>--y-scale <span class="o">{</span>linear,log,symlog,logit<span class="o">}]</span> <span class="o">[</span>--raw<span class="o">]</span>

options:
  -h, --help            show this <span class="nb">help </span>message and <span class="nb">exit</span>
  --dataset DATASET     dataset to download <span class="o">(</span>default: glove-100-inner<span class="o">)</span>
  --dataset-path DATASET_PATH
                        path to dataset folder <span class="o">(</span>default: <span class="si">${</span><span class="nv">RAPIDS_DATASET_ROOT_DIR</span><span class="si">}</span><span class="o">)</span>
  --output-filepath OUTPUT_FILEPATH
                        directory <span class="k">for</span> PNG to be saved <span class="o">(</span>default: os.getcwd<span class="o">())</span>
  --algorithms ALGORITHMS
                        plot only comma separated list of named algorithms <span class="o">(</span>default: None<span class="o">)</span>
  -k COUNT, --count COUNT
                        the number of nearest neighbors to search <span class="k">for</span> <span class="o">(</span>default: 10<span class="o">)</span>
  -bs BATCH_SIZE, --batch-size BATCH_SIZE
                        number of query vectors to use in each query trial <span class="o">(</span>default: 10000<span class="o">)</span>
  --build
  --search
  --x-scale X_SCALE     Scale to use when drawing the X-axis. Typically linear, logit or a2 <span class="o">(</span>default: linear<span class="o">)</span>
  --y-scale <span class="o">{</span>linear,log,symlog,logit<span class="o">}</span>
                        Scale to use when drawing the Y-axis <span class="o">(</span>default: linear<span class="o">)</span>
  --raw                 Show raw results <span class="o">(</span>not just Pareto frontier<span class="o">)</span> in faded colours <span class="o">(</span>default: False<span class="o">)</span>
</pre></div></p>
<p>The figure below is the resulting plot of running our benchmarks as of August 2023 for a batch size of 10, on an NVIDIA H100 GPU and an Intel Xeon Platinum 8480CL CPU. It presents the throughput (in Queries-Per-Second) performance for every level of recall.</p>
<p><img alt="Throughput vs recall plot comparing popular ANN algorithms with RAFT's at batch size 10" src="/Users/danteg/RAPIDS/raft2/img/raft-vector-search-batch-10.png" /></p>
<h2 id="creating-and-customizing-dataset-configurations">Creating and customizing dataset configurations<a class="headerlink" href="#creating-and-customizing-dataset-configurations" title="Permanent link"></a></h2>
<p>A single configuration file will often define a set of algorithms, with associated index and search parameters, for a specific dataset. A configuration file uses json format with 4 major parts:
1. Dataset information
2. Algorithm information
3. Index parameters
4. Search parameters</p>
<p>Below is a simple example configuration file for the 1M-scale <code>sift-128-euclidean</code> dataset:</p>
<div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;dataset&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;sift-128-euclidean&quot;</span><span class="p">,</span>
    <span class="nt">&quot;base_file&quot;</span><span class="p">:</span> <span class="s2">&quot;sift-128-euclidean/base.fbin&quot;</span><span class="p">,</span>
    <span class="nt">&quot;query_file&quot;</span><span class="p">:</span> <span class="s2">&quot;sift-128-euclidean/query.fbin&quot;</span><span class="p">,</span> 
    <span class="nt">&quot;subset_size&quot;</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
    <span class="nt">&quot;groundtruth_neighbors_file&quot;</span><span class="p">:</span> <span class="s2">&quot;sift-128-euclidean/groundtruth.neighbors.ibin&quot;</span><span class="p">,</span>
    <span class="nt">&quot;distance&quot;</span><span class="p">:</span> <span class="s2">&quot;euclidean&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;index&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>

<p>The <code>index</code> section will contain a list of index objects, each of which will have the following form:
<div class="highlight"><pre><span class="p">{</span>
   <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;algo_name.unique_index_name&quot;</span><span class="p">,</span>
   <span class="nt">&quot;algo&quot;</span><span class="p">:</span> <span class="s2">&quot;algo_name&quot;</span><span class="p">,</span>
   <span class="nt">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;sift-128-euclidean/algo_name/param1_val1-param2_val2&quot;</span><span class="p">,</span>
   <span class="nt">&quot;build_param&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;param1&quot;</span><span class="p">:</span> <span class="s2">&quot;val1&quot;</span><span class="p">,</span> <span class="nt">&quot;param2&quot;</span><span class="p">:</span> <span class="s2">&quot;val2&quot;</span> <span class="p">},</span>
   <span class="nt">&quot;search_params&quot;</span><span class="p">:</span> <span class="p">[{</span> <span class="nt">&quot;search_param1&quot;</span><span class="p">:</span> <span class="s2">&quot;search_val1&quot;</span> <span class="p">}]</span>
<span class="p">}</span>
</pre></div></p>
<p>The table below contains the possible settings for the <code>algo</code> field. Each unique algorithm will have its own set of <code>build_param</code> and <code>search_params</code> settings. The <a href="/Users/danteg/RAPIDS/raft2/docs/source/ann_benchmarks_param_tuning.md">ANN Algorithm Parameter Tuning Guide</a> contains detailed instructions on choosing build and search parameters for each supported algorithm.</p>
<table>
<thead>
<tr>
<th>Library</th>
<th>Algorithms</th>
</tr>
</thead>
<tbody>
<tr>
<td>FAISS</td>
<td><code>faiss_gpu_ivf_flat</code>, <code>faiss_gpu_ivf_pq</code></td>
</tr>
<tr>
<td>GGNN</td>
<td><code>ggnn</code></td>
</tr>
<tr>
<td>HNSWlib</td>
<td><code>hnswlib</code></td>
</tr>
<tr>
<td>RAFT</td>
<td><code>raft_cagra</code>, <code>raft_ivf_flat</code>, <code>raft_ivf_pq</code></td>
</tr>
</tbody>
</table>
<p>By default, the index will be placed in <code>bench/ann/data/&lt;dataset_name&gt;/index/&lt;name&gt;</code>. Using <code>sift-128-euclidean</code> for the dataset with the <code>algo</code> example above, the indexes would be placed in <code>bench/ann/data/sift-128-euclidean/index/algo_name/param1_val1-param2_val2</code>.</p>
<h2 id="adding-a-new-ann-algorithm">Adding a new ANN algorithm<a class="headerlink" href="#adding-a-new-ann-algorithm" title="Permanent link"></a></h2>
<h3 id="implementation-and-configuration">Implementation and Configuration<a class="headerlink" href="#implementation-and-configuration" title="Permanent link"></a></h3>
<p>Implementation of a new algorithm should be a C++ class that inherits <code>class ANN</code> (defined in <code>cpp/bench/ann/src/ann.h</code>) and implements all the pure virtual functions.</p>
<p>In addition, it should define two <code>struct</code>s for building and searching parameters. The searching parameter class should inherit <code>struct ANN&lt;T&gt;::AnnSearchParam</code>. Take <code>class HnswLib</code> as an example, its definition is:
<div class="highlight"><pre><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="k">class</span> <span class="nc">HnswLib</span> <span class="o">:</span> <span class="k">public</span> <span class="n">ANN</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">struct</span> <span class="n">BuildParam</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">M</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">ef_construction</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">num_threads</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="k">using</span> <span class="k">typename</span> <span class="n">ANN</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">AnnSearchParam</span><span class="p">;</span>
  <span class="k">struct</span> <span class="nl">SearchParam</span> <span class="p">:</span> <span class="k">public</span> <span class="n">AnnSearchParam</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">ef</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">num_threads</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="c1">// ...</span>
<span class="p">};</span>
</pre></div></p>
<p><a id='json-index-config'></a>The benchmark program uses JSON format in a configuration file to specify indexes to build, along with the build and search parameters. To add the new algorithm to the benchmark, need be able to specify <code>build_param</code>, whose value is a JSON object, and <code>search_params</code>, whose value is an array of JSON objects, for this algorithm in configuration file. The <code>build_param</code> and <code>search_param</code> arguments will vary depending on the algorithm.  Take the configuration for <code>HnswLib</code> as an example:
<div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;hnswlib.M12.ef500.th32&quot;</span><span class="p">,</span>
  <span class="nt">&quot;algo&quot;</span> <span class="p">:</span> <span class="s2">&quot;hnswlib&quot;</span><span class="p">,</span>
  <span class="nt">&quot;build_param&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;M&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="nt">&quot;efConstruction&quot;</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span> <span class="nt">&quot;numThreads&quot;</span><span class="p">:</span><span class="mi">32</span><span class="p">},</span>
  <span class="nt">&quot;file&quot;</span> <span class="p">:</span> <span class="s2">&quot;/path/to/file&quot;</span><span class="p">,</span>
  <span class="nt">&quot;search_params&quot;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nt">&quot;ef&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="nt">&quot;numThreads&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;ef&quot;</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="nt">&quot;numThreads&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;ef&quot;</span><span class="p">:</span><span class="mi">40</span><span class="p">,</span> <span class="nt">&quot;numThreads&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
  <span class="p">],</span>
  <span class="nt">&quot;search_result_file&quot;</span> <span class="p">:</span> <span class="s2">&quot;/path/to/file&quot;</span>
<span class="p">}</span><span class="err">,</span>
</pre></div>
How to interpret these JSON objects is totally left to the implementation and should be specified in <code>cpp/bench/ann/src/factory.cuh</code>:
1. First, add two functions for parsing JSON object to <code>struct BuildParam</code> and <code>struct SearchParam</code>, respectively:
    <div class="highlight"><pre><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">parse_build_param</span><span class="p">(</span><span class="k">const</span> <span class="n">nlohmann</span><span class="o">::</span><span class="n">json</span><span class="o">&amp;</span> <span class="n">conf</span><span class="p">,</span>
                       <span class="k">typename</span> <span class="n">cuann</span><span class="o">::</span><span class="n">HnswLib</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">BuildParam</span><span class="o">&amp;</span> <span class="n">param</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">param</span><span class="p">.</span><span class="n">ef_construction</span> <span class="o">=</span> <span class="n">conf</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="s">&quot;efConstruction&quot;</span><span class="p">);</span>
  <span class="n">param</span><span class="p">.</span><span class="n">M</span> <span class="o">=</span> <span class="n">conf</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="s">&quot;M&quot;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">conf</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="s">&quot;numThreads&quot;</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">param</span><span class="p">.</span><span class="n">num_threads</span> <span class="o">=</span> <span class="n">conf</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="s">&quot;numThreads&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">parse_search_param</span><span class="p">(</span><span class="k">const</span> <span class="n">nlohmann</span><span class="o">::</span><span class="n">json</span><span class="o">&amp;</span> <span class="n">conf</span><span class="p">,</span>
                        <span class="k">typename</span> <span class="n">cuann</span><span class="o">::</span><span class="n">HnswLib</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">SearchParam</span><span class="o">&amp;</span> <span class="n">param</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">param</span><span class="p">.</span><span class="n">ef</span> <span class="o">=</span> <span class="n">conf</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="s">&quot;ef&quot;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">conf</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="s">&quot;numThreads&quot;</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">param</span><span class="p">.</span><span class="n">num_threads</span> <span class="o">=</span> <span class="n">conf</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="s">&quot;numThreads&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div></p>
<ol start="2">
<li>Next, add corresponding <code>if</code> case to functions <code>create_algo()</code> (in <code>cpp/bench/ann/) and</code>create_search_param()<code>by calling parsing functions. The string literal in</code>if<code>condition statement must be the same as the value of</code>algo` in configuration file. For example,
    <div class="highlight"><pre>  <span class="c1">// JSON configuration file contains a line like:  &quot;algo&quot; : &quot;hnswlib&quot;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;hnswlib&quot;</span><span class="p">)</span> <span class="p">{</span>
     <span class="c1">// ...</span>
  <span class="p">}</span>
</pre></div></li>
</ol>
<h3 id="adding-a-cmake-target">Adding a CMake Target<a class="headerlink" href="#adding-a-cmake-target" title="Permanent link"></a></h3>
<p>In <code>raft/cpp/bench/ann/CMakeLists.txt</code>, we provide a <code>CMake</code> function to configure a new Benchmark target with the following signature:
<div class="highlight"><pre>ConfigureAnnBench(
  NAME &lt;algo_name&gt; 
  PATH &lt;/path/to/algo/benchmark/source/file&gt; 
  INCLUDES &lt;additional_include_directories&gt; 
  CXXFLAGS &lt;additional_cxx_flags&gt;
  LINKS &lt;additional_link_library_targets&gt;
)
</pre></div></p>
<p>To add a target for <code>HNSWLIB</code>, we would call the function as:
<div class="highlight"><pre>ConfigureAnnBench(
  NAME HNSWLIB PATH bench/ann/src/hnswlib/hnswlib_benchmark.cpp INCLUDES
  ${CMAKE_CURRENT_BINARY_DIR}/_deps/hnswlib-src/hnswlib CXXFLAGS &quot;${HNSW_CXX_FLAGS}&quot;
)
</pre></div></p>
<p>This will create an executable called <code>HNSWLIB_ANN_BENCH</code>, which can then be used to run <code>HNSWLIB</code> benchmarks.</p></article></body></html>